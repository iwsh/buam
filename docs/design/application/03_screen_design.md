# 3. 画面・UI/UX設計

本ドキュメントは、`02_functional_requirements.md` に基づき、アプリケーションの画面構成とUI/UXの基本設計を定義する。

## 3.1. 設計思想

- **モバイルファースト**: スマートフォンでの利用を主要なターゲットとし、シンプルで直感的な操作性を最優先する。
- **タスクの簡略化**: 特に「走行記録」のような頻繁に行う操作は、最小限のステップで完了できるように設計する。
- **情報の可視化**: ダッシュボードでは、ユーザーが最も知りたい情報（例: 業務利用割合）が一目で把握できるようにする。

## 3.2. 画面一覧

本アプリケーションで設計する主要な画面は以下の通り。

| 画面ID | 画面名 | ユーザー種別 | 概要 |
| :--- | :--- | :--- | :--- |
| SCR-001 | ログイン画面 | 全員 | サービスを利用するための認証を行う。 |
| SCR-002 | ユーザー登録画面 | 一般 | 招待されたユーザーがアカウントを有効化する。 |
| SCR-003 | パスワードリセット画面 | 一般 | パスワードの再設定手続きを行う。 |
| SCR-101 | ダッシュボード画面 | 一般, Admin | 業務利用割合や走行データを表示するメイン画面。 |
| SCR-102 | 走行履歴一覧画面 | 一般, Admin | 過去の走行記録を一覧で確認・編集する。 |
| SCR-103 | 走行データ入力画面 | 一般, Admin | 日々の走行データを記録する。 |
| SCR-104 | 設定画面 | 一般, Admin | 車両情報や通知設定などを管理する。 |
| SCR-201 | ユーザー一覧画面 | Admin | 登録ユーザーを管理する。 |
| SCR-202 | ユーザー招待画面 | Admin | 新規ユーザーを招待する。 |

## 3.3. 画面遷移図

主要な画面間の遷移を以下に示す。

```mermaid
graph TD
    subgraph "認証前"
        A[SCR-001 ログイン] --> B{認証処理}
        A --> C[SCR-003 パスワードリセット]
        A --> D[SCR-002 ユーザー登録]
    end

    subgraph "認証後"
        B -- OK --> E[SCR-101 ダッシュボード]
        E --> F[SCR-102 走行履歴一覧]
        E --> G[SCR-103 走行データ入力]
        E --> H[SCR-104 設定]
        F --> G
    end
    
    subgraph "ユーザ管理 (Adminユーザーのみ)"
        H --> I[SCR-201 ユーザー一覧]
        I --> J[SCR-202 ユーザー招待]
    end
    
    note over I,J: 管理者機能へは設定画面などから遷移
```

## 3.4. 各画面の詳細設計

以降のセクションで、各画面の配置要素や機能を定義する。

### SCR-101: ダッシュボード画面

- **概要**: ログイン後のメイン画面。ユーザーが必要とする情報を集約して表示する。
- **配置要素**:
    - 現在の業務利用割合（大きく表示）
    - 按分計算期間
    - 月別の走行距離サマリー（グラフ）
    - 直近の走行履歴（数件）
    - 走行データ入力ボタン（FAB: Floating Action Button）
    - ナビゲーションメニュー（履歴一覧、設定へ）
- **主要な機能**:
    - 業務利用割合のリアルタイム確認
    - 走行データ入力画面への遷移

### SCR-103: 走行データ入力画面

- **概要**: 日々の走行データを簡単に入力するための画面。モーダルウィンドウまたは専用画面として実装する。
- **配置要素**:
    - 日付選択コンポーネント
    - 累積走行距離メーター値入力フィールド（数値）
    - 目的選択ボタン（「業務」「家事」）
    - メモ入力フィールド（任意）
    - 保存ボタン
- **主要な機能**:
    - 走行日、累積走行距離メーター値、目的の記録
    - UX向上のため、目的はデフォルトを「業務」とするなどの工夫を行う。

---
*このドキュメントは初期設計であり、今後の技術設計や実装フェーズで詳細化される。*
